<!--  наследуемся от шаблона default.html, который мы создавали ещё во времена flatpages -->
{% extends 'flatpages/default.html' %}
{% load custom_filters %}

<!-- Название у нас будет proudcts -->
{% block title %}
Новости
{% endblock title %}

<form method="GET">
    {{ filter.form }} <!-- Форму от фильтров за нас сделает django. А вот кнопку, увы придётся делать самому -->
    <input type="submit" value="Найти">
</form>

{% block content %}
<h1>Новости</h1>
    {% if True %}
        <table class="table table-hover">

            <thead>
            <tr>
                <th>
                    Заголовок статьи
                </th>
                <th>
                    Дата публикации
                </th>
                <th>
                    Текст статьи
                </th>
            </tr>
            </thead>

            <tbody>
                {% for post in postlist %}
                    <tr>
                        <th>
                            <a href="{{ post.pk }} "> {{ post.title|censor }} </a>
                        </th>
                        <th>
                            {{ post.dateCreate }}
                        </th>
                        <th>
                            {{ post.text|truncatechars:50|censor }}
                        </th>
                    </tr>
                {% endfor %}
            </tbody>

        </table>
    {% else %}
        <h2>Новостей нет</h2>
    {% endif %}
{% endblock content %}